<template>
  <main class="contact-us">
    <LayoutsPageHeader :data="$t('contact-us-header')" />
    <section class="contact-us__map-section map-section">
      <div class="container">
        <h2 class="map-section__title title">{{$t('contact-us-info.title')}}</h2>
        <div class="map-section__map-wrapper">
          <div class="map-section__left-col">
            <LayoutsThemplateGrid1x1>
              <ul class="map-section__phone-list">
                <li
                  v-for="(phone, i) in getPhones"
                  :key="'#' + i + '-' + phone"
                  class="map-section__phone-item"
                >
                  <svg
                    width="17"
                    height="17"
                    viewBox="0 0 17 17"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g clip-path="url(#clip0)">
                      <path
                        d="M3.59727 10.9604C5.17539 12.8469 7.0751 14.3322 9.24335 15.3831C10.0689 15.7744 11.1729 16.2385 12.4029 16.3181C12.4792 16.3214 12.5521 16.3247 12.6284 16.3247C13.4539 16.3247 14.117 16.0396 14.6574 15.4528C14.6607 15.4494 14.6673 15.4428 14.6706 15.4362C14.8629 15.2041 15.0817 14.9952 15.3105 14.7731C15.4663 14.6239 15.6255 14.4681 15.778 14.309C16.4841 13.5729 16.4841 12.638 15.7713 11.9252L13.7788 9.93266C13.4406 9.58123 13.0361 9.39557 12.6118 9.39557C12.1874 9.39557 11.7796 9.58123 11.4315 9.92935L10.2446 11.1163C10.1352 11.0533 10.0225 10.9969 9.91638 10.9439C9.78376 10.8775 9.66109 10.8146 9.55168 10.7449C8.47087 10.0586 7.48952 9.1635 6.55127 8.01306C6.07717 7.41298 5.7589 6.90904 5.53677 6.39516C5.84841 6.11335 6.14016 5.81828 6.42197 5.52985C6.52143 5.42707 6.62421 5.32429 6.72698 5.22152C7.08505 4.86346 7.27734 4.44903 7.27734 4.02798C7.27734 3.60693 7.08836 3.19251 6.72698 2.83445L5.739 1.84646C5.62296 1.73043 5.51356 1.6177 5.40084 1.50167C5.18202 1.27622 4.95326 1.04414 4.72781 0.835275C4.38633 0.500422 3.98517 0.324707 3.5608 0.324707C3.13975 0.324707 2.73527 0.500422 2.38053 0.83859L1.14058 2.07854C0.689687 2.52943 0.434403 3.07647 0.381357 3.7097C0.318365 4.50208 0.464242 5.34418 0.842194 6.36201C1.42238 7.93681 2.29764 9.39889 3.59727 10.9604ZM1.19031 3.77933C1.23009 3.33838 1.39918 2.97038 1.71745 2.6521L2.95077 1.41878C3.14306 1.23312 3.35525 1.13697 3.5608 1.13697C3.76304 1.13697 3.96859 1.23312 4.15757 1.42541C4.3797 1.63096 4.58857 1.84646 4.81401 2.07522C4.92674 2.19126 5.04277 2.3073 5.15881 2.42665L6.14679 3.41464C6.35235 3.62019 6.45844 3.82906 6.45844 4.03461C6.45844 4.24016 6.35235 4.44903 6.14679 4.65459C6.04402 4.75736 5.94124 4.86346 5.83846 4.96623C5.53013 5.27788 5.2417 5.57295 4.92342 5.85475C4.91679 5.86138 4.91348 5.8647 4.90684 5.87133C4.63167 6.14651 4.67477 6.40842 4.74108 6.60734C4.74439 6.61729 4.74771 6.62392 4.75102 6.63387C5.00631 7.24721 5.36105 7.83072 5.91472 8.52694C6.90933 9.75363 7.95699 10.7051 9.11074 11.4378C9.2533 11.5307 9.40581 11.6036 9.54837 11.6766C9.68098 11.7429 9.80365 11.8059 9.91306 11.8755C9.92632 11.8821 9.93627 11.8887 9.94953 11.8954C10.0589 11.9517 10.165 11.9783 10.2711 11.9783C10.5364 11.9783 10.7087 11.8092 10.7651 11.7528L12.0051 10.5129C12.1974 10.3206 12.4062 10.2178 12.6118 10.2178C12.8637 10.2178 13.0693 10.3736 13.1986 10.5129L15.1978 12.5087C15.5956 12.9066 15.5923 13.3376 15.1878 13.7586C15.0486 13.9078 14.9027 14.0504 14.7469 14.1996C14.5148 14.425 14.2728 14.6571 14.054 14.919C13.6727 15.3301 13.2185 15.5224 12.6317 15.5224C12.5753 15.5224 12.5156 15.5191 12.4593 15.5158C11.3718 15.4461 10.3606 15.0218 9.60141 14.6604C7.53925 13.6625 5.72906 12.2468 4.22719 10.4499C2.99056 8.96126 2.1584 7.57543 1.60805 6.09014C1.26656 5.17842 1.13726 4.44572 1.19031 3.77933Z"
                        fill="#82B56A"
                      />
                    </g>
                    <defs>
                      <clipPath id="clip0">
                        <rect
                          width="16"
                          height="16"
                          fill="white"
                          transform="translate(0.335938 0.324707)"
                        />
                      </clipPath>
                    </defs>
                  </svg>
                  <a
                    class="link"
                    :href="'tel:'+ parsedPhone[i]"
                  >{{phone}}</a>
                </li>
              </ul>
              <div class="map-section__works-hours">
                <svg
                  width="17"
                  height="17"
                  viewBox="0 0 17 17"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0)">
                    <path
                      d="M8.91406 16.0852C4.50269 16.0852 0.914062 12.4966 0.914062 8.08521C0.914062 3.67383 4.50269 0.0852051 8.91406 0.0852051C13.3254 0.0852051 16.9141 3.67383 16.9141 8.08521C16.9141 12.4966 13.3254 16.0852 8.91406 16.0852ZM8.91406 1.08521C5.05408 1.08521 1.91406 4.22522 1.91406 8.08521C1.91406 11.9452 5.05408 15.0852 8.91406 15.0852C12.774 15.0852 15.9141 11.9452 15.9141 8.08521C15.9141 4.22522 12.774 1.08521 8.91406 1.08521Z"
                      fill="#82B56A"
                    />
                    <path
                      d="M12.4141 12.4187C12.286 12.4187 12.1581 12.37 12.0607 12.272L8.56067 8.77197C8.46667 8.67798 8.41406 8.55066 8.41406 8.4187V3.75195C8.41406 3.47595 8.63806 3.25195 8.91406 3.25195C9.19006 3.25195 9.41406 3.47595 9.41406 3.75195V8.2113L12.7675 11.5647C12.9628 11.76 12.9628 12.0767 12.7675 12.272C12.67 12.37 12.5421 12.4187 12.4141 12.4187Z"
                      fill="#82B56A"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0">
                      <rect
                        width="16"
                        height="16"
                        fill="white"
                        transform="translate(0.914062 0.0852051)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                <ul>
                  <li>{{$t('contact-us-info.workDay')}}</li>
                  <li>{{$t('contact-us-info.restDay')}}</li>
                </ul>
              </div>
            </LayoutsThemplateGrid1x1>
            <div class="map-section__soc-wrapper">
              <UITelegramBtn />
              <UIViberBtn />
            </div>
            <div class="map-section__email-wrapper">
              <svg
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0)">
                  <path
                    d="M14.8359 2.71143H1.83595C1.00879 2.71143 0.335938 3.38428 0.335938 4.21144V13.2114C0.335938 14.0386 1.00879 14.7114 1.83595 14.7114H14.8359C15.6631 14.7114 16.3359 14.0386 16.3359 13.2114V4.21144C16.3359 3.38428 15.6631 2.71143 14.8359 2.71143ZM14.8359 3.71142C14.9039 3.71142 14.9685 3.72552 15.0276 3.75013L8.33594 9.54981L1.64427 3.75013C1.70335 3.72555 1.76798 3.71142 1.83591 3.71142H14.8359ZM14.8359 13.7114H1.83595C1.56007 13.7114 1.33593 13.4873 1.33593 13.2114V4.80664L8.00829 10.5894C8.10255 10.6709 8.21924 10.7114 8.33594 10.7114C8.45263 10.7114 8.56933 10.6709 8.66358 10.5894L15.3359 4.80664V13.2114C15.3359 13.4873 15.1118 13.7114 14.8359 13.7114Z"
                    fill="#82B56A"
                  />
                </g>
                <defs>
                  <clipPath id="clip0">
                    <rect
                      width="16"
                      height="16"
                      fill="white"
                      transform="translate(0.335938 0.711426)"
                    />
                  </clipPath>
                </defs>
              </svg>
              <a
                :href="'mailto:' + getEmail"
                class="link"
              >{{getEmail}}</a>
            </div>
            <div class="map-section__location-wrapper">
              <svg
                width="17"
                height="17"
                viewBox="0 0 17 17"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0)">
                  <path
                    d="M8.33203 0.315186C5.02303 0.315186 2.33203 3.00619 2.33203 6.31519C2.33203 10.4742 7.74803 15.9382 7.97803 16.1692C8.07603 16.2662 8.20403 16.3152 8.33203 16.3152C8.46003 16.3152 8.58803 16.2662 8.68603 16.1692C8.91603 15.9382 14.332 10.4742 14.332 6.31519C14.332 3.00619 11.641 0.315186 8.33203 0.315186ZM8.33203 15.0922C7.13803 13.8142 3.33203 9.49219 3.33203 6.31519C3.33203 3.55819 5.57503 1.31519 8.33203 1.31519C11.089 1.31519 13.332 3.55819 13.332 6.31519C13.332 9.48919 9.52603 13.8142 8.33203 15.0922Z"
                    fill="#82B56A"
                  />
                  <path
                    d="M8.33203 3.31519C6.67803 3.31519 5.33203 4.66119 5.33203 6.31519C5.33203 7.96919 6.67803 9.31519 8.33203 9.31519C9.98603 9.31519 11.332 7.96919 11.332 6.31519C11.332 4.66119 9.98603 3.31519 8.33203 3.31519ZM8.33203 8.31519C7.22903 8.31519 6.33203 7.41819 6.33203 6.31519C6.33203 5.21219 7.22903 4.31519 8.33203 4.31519C9.43503 4.31519 10.332 5.21219 10.332 6.31519C10.332 7.41819 9.43503 8.31519 8.33203 8.31519Z"
                    fill="#82B56A"
                  />
                </g>
                <defs>
                  <clipPath id="clip0">
                    <rect
                      width="16"
                      height="16"
                      fill="white"
                      transform="translate(0.332031 0.315186)"
                    />
                  </clipPath>
                </defs>
              </svg>
              <span>{{getLocation}}</span>
            </div>
          </div>
          <div class="map-section__right-col map-wrapper">
            <no-ssr>
              <l-map
                :zoom=17
                :center="[46.437464, 30.646486]"
              >
                <l-tile-layer url="http://{s}.tile.osm.org/{z}/{x}/{y}.png"></l-tile-layer>
                <l-marker :lat-lng="[46.437464, 30.646486]"></l-marker>
              </l-map>
            </no-ssr>
          </div>
        </div>
      </div>
    </section>
    <section class="contact-us__question-form">
      <Form />
    </section>
  </main>
</template>

<script>
export default {
  name: 'ContactUs',
  computed: {
    getPhones() {
      return this.$store.getters['navigation/getPhones'];
    },
    parsedPhone() {
      const pattern = /[()\s\-\\+\0\t\n\r{a-z}]/g;
      return this.$store.state.navigation.phones.map((phone) =>
        phone.replace(pattern, '')
      );
    },
    getEmail() {
      return this.$store.getters['navigation/getEmail'];
    },
    getLocation() {
      return this.$t('contact-us-info').location;
    },
  },
};
</script>

